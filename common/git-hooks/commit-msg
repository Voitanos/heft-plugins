#!/bin/sh
# Rush-managed Git hook for commit message validation
# This hook is automatically installed by "rush install"

# Get the repo root directory (2 levels up from common/git-hooks)
REPO_ROOT="$(cd "$(dirname "$0")/../.." && pwd)"
AUTOINSTALLER_DIR="$REPO_ROOT/common/autoinstallers/rush-commitlint"

# Change to autoinstaller directory so commitlint can find config and dependencies
cd "$AUTOINSTALLER_DIR"

# Run commitlint using the rush-commitlint autoinstaller
"$AUTOINSTALLER_DIR/node_modules/.bin/commitlint" --edit "$1"
